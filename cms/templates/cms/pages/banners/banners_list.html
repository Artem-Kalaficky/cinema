{% extends 'cms/layout/base.html' %}
{% load static %}

{% block title %}
Баннеры/Слайдеры
{% endblock %}

{% block style %}
    <link rel="stylesheet" href="{% static 'cms/style/create_film.css' %}">
    <link rel="stylesheet" href="{% static 'cms/style/news_prom_status.css' %}">
{% endblock %}

{% block banner-active %}
active
{% endblock %}

{% block content %}
    <div style="margin: 0 50px 0 50px; padding-top: 30px">

        <!--ФОРМА На главной верх-->
        <p style="text-align: center; font-size: 25px"><b>На главной верх</b></p>
        <div style="border: 3px solid black; border-radius: 20px; padding: 10px; margin-bottom: 40px">
            <form id="form-container" enctype="multipart/form-data" method="post">
                {% csrf_token %}
                <!--Навигация-->
                <div class="row" style="max-width: 1600px">
                    <!--Статус-->
                    <div class="col-sm-12" style="text-align: right; padding-top: 15px; padding-right: 20px">
                        <label class="checkbox-ios">
                            {{ base_form.status }}
                            <span class="checkbox-ios-switch"></span>
                        </label>
                    </div>
                    <!--Статус конец-->
                </div>
                <!--Навигация конец-->

                <div style="display: none">
                    <span style="margin-right: 50px; "><b>Основная страница</b></span>
                    <span>{{ base_form.is_main }}</span>
                </div>

                <!--Слайды верх-->
                <div style="margin-bottom: 40px">
                {{ top_carousel_formset.management_form }}
                    <div class="row" style="margin-bottom: 20px">
                        <div class="col-sm-2" style="padding-top: 4px">Размер 1000х190</div>
                        <div class="col-sm-2">
                            <button class="add-more-img btn btn-block btn-outline-success" type="button" id="add_more" style="min-width: 200px; max-width: 200px">Добавить слайд</button>
                        </div>
                    </div>
                    <div id="form_set" class="row" style="padding-left: 20px">
                        {% for form in top_carousel_formset %}
                        <div id="{{ form.prefix }}-form" style="margin-bottom: 20px" class="col-sm-2">

                            {{ form.id }}
                            <div style="display: none">
                                {{ form.is_main }}
                            </div>

                            <div id="{{ form.prefix }}-form">
                                <div class="col-sm-12" style="text-align: right">
                                    <option value="" style="color: red; text-align: center; display: none" id="{{ form.prefix }}-validation"><b>Размеры не корректны!</b></option>
                                    <a class="btn-delete-form" onclick="delete_image(this.id)" id="{{ form.prefix }}">
                                        <img class="delete-gallery-form" src="{% static "cms/dist/img/deleteimg.png" %}">
                                    </a>
                                </div>
                                <div class="col-sm-12">
                                    <img src="{{ form.instance.image.url }}" id="{{ form.prefix }}-image" height="100%" width="100%" style="min-height: 150px"><br/>
                                </div>
                                <div class="col-sm-12">
                                    <a id="{{ form.prefix }}" onchange="preview_gallery(this.id)" class="btn btn-outline-success btn-file" style="margin: 10px 0 10px 0; display: flex">Добавить
                                        {{ form.image }}
                                    </a>
                                </div>
                            </div>

                            <div class="row" style="margin-bottom: 20px">
                                {{ form.url.errors }}
                                <div class="col-sm-3">
                                    <label for="id_name" style="padding-top: 4px">URL</label>
                                </div>
                                <div class="col-sm-9">
                                    <span>{{ form.url }}</span>
                                </div>
                            </div>

                            <div class="row" style="margin-bottom: 20px">
                                {{ form.text.errors }}
                                <div class="col-sm-3">
                                    <label for="id_name" style="padding-top: 4px">Текст</label>
                                </div>
                                <div class="col-sm-9">
                                    <span>{{ form.text }}</span>
                                </div>
                            </div>

                        </div>
                        {% endfor %}
                    </div>

                    <div class="delete-list" style="display: none"></div>

                    <div id="empty_form" style="display: none">
                        <div id="{{ top_carousel_formset.empty_form.prefix }}-form" style="margin-bottom: 20px" class="col-sm-2">

                            {{ top_carousel_formset.empty_form.id }}
                            <div style="display: none">
                                {{ top_carousel_formset.empty_form.is_main }}
                            </div>

                            <div id="{{ top_carousel_formset.empty_form.prefix }}-form">
                                <div class="col-sm-12" style="text-align: right">
                                    <option value="" style="color: red; text-align: center; display: none" id="{{ top_carousel_formset.empty_form.prefix }}-validation"><b>Размеры не корректны!</b></option>
                                    <a class="btn-delete-form" onclick="delete_image(this.id)" id="{{ top_carousel_formset.empty_form.prefix }}">
                                        <img class="delete-gallery-form" src="{% static "cms/dist/img/deleteimg.png" %}">
                                    </a>
                                </div>
                                <div class="col-sm-12">
                                    <img src="{% static "cms/dist/img/preview.png" %}" id="{{ top_carousel_formset.empty_form.prefix }}-image" height="100%" width="100%" style="min-height: 150px"><br/>
                                </div>
                                <div class="col-sm-12">
                                    <a id="{{ top_carousel_formset.empty_form.prefix }}" onchange="preview_gallery(this.id)" class="btn btn-outline-success btn-file" style="margin: 10px 0 10px 0; display: flex">Добавить
                                        {{ top_carousel_formset.empty_form.image }}
                                    </a>
                                </div>
                            </div>

                            <div class="row" style="margin-bottom: 20px">
                                {{ top_carousel_formset.empty_form.errors }}
                                <div class="col-sm-3">
                                    <label for="id_name" style="padding-top: 4px">URL</label>
                                </div>
                                <div class="col-sm-9">
                                    <span>{{ top_carousel_formset.empty_form.url }}</span>
                                </div>
                            </div>

                            <div class="row" style="margin-bottom: 20px">
                                {{ top_carousel_formset.empty_form.text.errors }}
                                <div class="col-sm-3">
                                    <label for="id_name" style="padding-top: 4px">Текст</label>
                                </div>
                                <div class="col-sm-9">
                                    <span>{{ top_carousel_formset.empty_form.text }}</span>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <!--Слайды верх конец-->

                <div class="row" style="padding-bottom: 5px">
                    <div class="col-sm-5" style="text-align: center; vertical-align: center">
                        <span><b>Скорость вращения </b>{{ base_form.speed }}</span>
                    </div>
                    <div class="col-sm-7">
                        <button id="submit-btn" class="btn btn-block btn-success" type="submit" style="max-width: 150px; display: inline-block; margin: 0 40px 0 0; height: 40px">Сохранить</button>
                    </div>
                </div>
            </form>
        </div>
        <!--ФОРМА На главной верх конец-->

        <!--ФОРМА Новости, акции-->

        <!--ФОРМА Новости, акции конец-->
    </div>
{% endblock %}

{% block script %}
<script src="{% static 'cms/scripts/banners/slide_formset.js' %}"></script>
<script src="{% static 'cms/scripts/pages/status.js' %}"></script>
{% endblock %}